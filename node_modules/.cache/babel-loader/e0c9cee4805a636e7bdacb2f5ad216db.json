{"ast":null,"code":"var _jsxFileName = \"/Users/quizmox/Desktop/sticker-star-frontend-master/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport * as API from \"./helpers/API\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getStudents = () => {\n      axios.get(\"/students\").then(res => {\n        console.log(res);\n        this.setState(state => ({\n          students: res.data\n        }));\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.onLogin = user => {\n      this.setState({\n        user: user\n      });\n      API.loginTeacher(user).then(this.setState({\n        isLoggedIn: true\n      })).then(console.log(\"User logged in\"));\n    };\n\n    this.onLogout = () => {\n      API.logoutTeacher().then(this.setState({\n        isLoggedIn: false,\n        user: {\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          passwordConfirmation: \"\"\n        }\n      }).then(console.log(\"User logged out\")));\n    };\n\n    this.onSignup = user => {\n      this.setState({\n        user: user\n      });\n      API.addTeacher(user).then(this.setState({\n        isLoggedIn: true\n      })).then(console.log(\"User logged in\"));\n    };\n\n    this.state = {\n      isLoggedIn: true,\n      students: [],\n      user: {\n        name: \"dongo\",\n        email: \"dongo@dongo.com\",\n        password: \"dongo\",\n        passwordConfirmation: \"dongo\"\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getStudents();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => this.state.isLoggedIn ? React.createElement(Redirect, {\n        to: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/home\",\n      render: () => this.state.isLoggedIn ? React.createElement(Home, {\n        onLogout: this.onLogout,\n        user: this.state.user,\n        students: this.state.students,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => React.createElement(Login, {\n        loggedIn: this.state.loggedIn,\n        onLogin: this.onLogin,\n        onSignup: this.onSignup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/quizmox/Desktop/sticker-star-frontend-master/src/App.js"],"names":["React","Component","Route","Redirect","withRouter","API","Home","Login","axios","App","constructor","props","getStudents","get","then","res","console","log","setState","state","students","data","catch","err","onLogin","user","loginTeacher","isLoggedIn","onLogout","logoutTeacher","name","email","password","passwordConfirmation","onSignup","addTeacher","componentDidMount","render","loggedIn"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport * as API from \"./helpers/API\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: true,\n      students: [],\n      user: {\n        name: \"dongo\",\n        email: \"dongo@dongo.com\",\n        password: \"dongo\",\n        passwordConfirmation: \"dongo\"\n      }\n    };\n  }\n\n  getStudents = () => {\n    axios\n      .get(\"/students\")\n      .then(res => {\n        console.log(res);\n        this.setState(state => ({ students: res.data }));\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  componentDidMount() {\n    this.getStudents();\n  }\n\n  onLogin = user => {\n    this.setState({ user: user });\n    API.loginTeacher(user)\n      .then(this.setState({ isLoggedIn: true }))\n      .then(console.log(\"User logged in\"));\n  };\n\n  onLogout = () => {\n    API.logoutTeacher().then(\n      this.setState({\n        isLoggedIn: false,\n        user: {\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          passwordConfirmation: \"\"\n        }\n      }).then(console.log(\"User logged out\"))\n    );\n  };\n\n  onSignup = user => {\n    this.setState({ user: user });\n    API.addTeacher(user)\n      .then(this.setState({ isLoggedIn: true }))\n      .then(console.log(\"User logged in\"));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Route\n          exact\n          path=\"/\"\n          render={() =>\n            this.state.isLoggedIn ? (\n              <Redirect to=\"/home\" />\n            ) : (\n              <Redirect to=\"/login\" />\n            )\n          }\n        />\n        <Route\n          exact\n          path=\"/home\"\n          render={() =>\n            this.state.isLoggedIn ? (\n              <Home\n                onLogout={this.onLogout}\n                user={this.state.user}\n                students={this.state.students}\n              />\n            ) : (\n              <Redirect to=\"/login\" />\n            )\n          }\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={() => (\n            <Login\n              loggedIn={this.state.loggedIn}\n              onLogin={this.onLogin}\n              onSignup={this.onSignup}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}