{"ast":null,"code":"var _jsxFileName = \"/Users/quizmox/Desktop/frontend/src/components/Home.js\";\nimport React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport \"../App.css\"; // import * as API from \"../helpers/API\";\n\nimport axios from \"axios\";\nimport Navbar from \"./Navbar\";\nimport SelectStudent from \"./SelectStudent\";\nimport AskToClear from \"./AskToClear\"; // import SelectedInfo from \"./SelectedInfo\";\n\nimport StudentList from \"./StudentList\";\nimport StickerBoard from \"./StickerBoard\";\nimport Stickers from \"./Stickers\";\nimport Rewards from \"./Rewards\";\nimport soundFile from \"../tada.mp3\";\nimport { stickerData } from \"./stickerData\";\nimport { rewardData } from \"./rewardData\";\nimport isSameDay from \"date-fns/is_same_day\";\nimport { format } from \"date-fns\";\nimport confetti from \"canvas-confetti\"; // import { withAuth } from \"@okta/okta-react\";\n// import { useAuth0 } from \"../react-auth0-wrapper\";\n\nimport PrivateRoute from \"./PrivateRoute\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onToggleAnimation = () => {\n      this.setState(state => ({\n        pageAnimation: !this.state.pageAnimation\n      }));\n      console.log(this.state.pageAnimation);\n    };\n\n    this.onToggleSound = () => {\n      this.setState(state => ({\n        pageSound: !this.state.pageSound\n      }));\n      console.log(this.state.pageSound);\n    };\n\n    this.checkBoard = (boardActive, studentActive) => {\n      // const studentActive = this.state.studentActive;\n      // const boardActive = this.state.boardActive;\n      if (!studentActive) {\n        return React.createElement(SelectStudent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        });\n      }\n      /*if (!boardActive && studentActive)*/\n      else {\n          // this.setState(state => ({ boardActive: true }));\n          // this.startBoard();\n          return React.createElement(StickerBoard // {...routerprops}\n          // boardActive={this.boardActive}\n          , {\n            boardActive: true,\n            boardCompleted: this.state.boardCompleted,\n            onPlaceSticker: this.onPlaceSticker,\n            pageAnimation: this.state.pageAnimation,\n            resetBoard: this.resetBoard,\n            reward: this.state.reward,\n            stickersPlaced: this.state.stickersPlaced,\n            sticker: this.state.sticker,\n            student: this.state.student,\n            studentActive: this.state.studentActive,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 253\n            },\n            __self: this\n          });\n        }\n    };\n\n    this.ifBoard = state => {\n      // if (this.state) {\n      console.log(this.state.boardActive, this.state.studentActive);\n      return this.checkBoard(this.state.boardActive, this.state.studentActive); // } else {\n      //   return \"\";\n      // }\n    };\n\n    this.ifStudent = (state, props) => {\n      // if (this.state) {\n      console.log(this.state.boardActive, this.state.studentActive);\n      return this.checkStudent(this.state, this.props); // } else {\n      //   return \"\";\n      // }\n    };\n\n    this.state = {\n      student: {\n        _id: \"\",\n        name: \"\",\n        teacher: \"\",\n        boardsCompletedByDate: []\n      },\n      boardActive: false,\n      boardCompleted: false,\n      studentActive: false,\n      pageAnimation: true,\n      pageSound: true,\n      sticker: {\n        src: \"https://i.ibb.co/b2wZDqL/61-Ez-ZBx-ZN2-L-SX425.jpg\",\n        alt: \"star\"\n      },\n      reward: {\n        src: \"https://i.ibb.co/rvtygSG/images.png\",\n        alt: \"great job\"\n      },\n      stickersToChoose: stickerData,\n      rewardsToChoose: rewardData,\n      stickersPlaced: 0\n    };\n    this.onPlaceSticker = this.onPlaceSticker.bind(this);\n    this.chooseStudent = this.chooseStudent.bind(this); // this.onClearBoard = this.onClearBoard.bind(this);\n    // this.onLeaveStudent = this.onLeaveStudent.bind(this);\n    // this.onStayBoard = this.onStayBoard.bind(this);\n\n    this.chooseSticker = this.chooseSticker.bind(this);\n    this.chooseReward = this.chooseReward.bind(this);\n    this.resetBoard = this.resetBoard.bind(this);\n    this.startBoard = this.startBoard.bind(this);\n    this.checkBoard = this.checkBoard.bind(this);\n    this.checkStudent = this.checkStudent.bind(this);\n    this.restart = this.restart.bind(this);\n  }\n\n  async chooseStudent(id) {\n    await axios.put(\"/students/\" + id, {\n      headers: {\n        Authorization: \"Bearer \" + (await this.props.auth.getAccessToken())\n      }\n    }).then(res => {\n      console.log(res.data);\n      this.setState(state => ({\n        boardActive: true,\n        studentActive: true,\n        stickersPlaced: 0,\n        student: res.data\n      }));\n      console.log(this.state);\n    }).then(console.log(this.state.student)).then(this.props.history.push(\"/home/board\")).catch(err => console.log(err));\n  } // onClearBoard() {\n  //   this.setState(prevState => ({\n  //     // student: {\n  //   _id: \"\",\n  //   name: \"\",\n  //   teacher: \"\",\n  //   boardsCompletedByDate: []\n  // },\n  // boardActive: !prevState.boardActive\n  // boardActive: false\n  // studentActive: false\n  // }));\n  // this.props.history.push(\"/home/board\");\n  // this.props.history.push(\"/home\");\n  // }\n  // onLeaveStudent() {\n  //   this.setState(state => ({ student: {}, studentActive: false }));\n  //   this.props.history.push(\"/home\");\n  // }\n  // onStayBoard() {\n  //   this.setState(state => ({ boardActive: true }));\n  //   this.props.history.push(\"/home/board\");\n  // }\n\n\n  async resetBoard() {\n    await this.setState(state => ({\n      boardCompleted: false\n    }));\n  }\n\n  async startBoard() {\n    await this.setState(state => ({\n      boardActive: true\n    }));\n  }\n\n  async updateStickers() {\n    var duration = 1.5 * 1000;\n    var end = Date.now() + duration;\n\n    if (this.state.stickersPlaced === 3) {\n      if (this.state.pageAnimation) {\n        (function frame() {\n          // launch a few confetti from the left edge\n          confetti({\n            particleCount: 7,\n            angle: 60,\n            spread: 55,\n            origin: {\n              x: 0\n            }\n          }); // and launch a few from the right edge\n\n          confetti({\n            particleCount: 7,\n            angle: 120,\n            spread: 55,\n            origin: {\n              x: 1\n            }\n          }); // keep going until we are out of time\n\n          if (Date.now() < end) {\n            requestAnimationFrame(frame);\n          }\n        })();\n      }\n\n      this.addBoardToStats();\n      console.log(this.state.student.boardsCompletedByDate); // UI.celebrate();\n\n      await this.setState(state => ({\n        boardCompleted: true,\n        stickersPlaced: 0\n      }));\n      await axios.put(\"/students/\" + this.state.student._id, {\n        headers: {\n          Authorization: \"Bearer \" + (await this.props.auth.getAccessToken())\n        }\n      }, this.state.student).then(res => {\n        console.log(res.data);\n      }).then(console.log(\"Boards completed = \".concat(this.state.student.boardsCompleted)));\n    }\n  }\n\n  async onPlaceSticker() {\n    // UI.changeBoard();\n    if (this.state.pageSound) {\n      const audio = new Audio(soundFile);\n      await audio.play();\n    }\n\n    console.log(this.state.stickersPlaced);\n    await this.setState(prevState => ({\n      stickersPlaced: prevState.stickersPlaced + 1\n    }));\n    console.log(this.state.stickersPlaced);\n    this.updateStickers(); // if (this.state.stickersPlaced === 3) {\n    //   this.addBoardToStats();\n    //   console.log(this.state.student.boardsCompletedByDate);\n    //   // UI.celebrate();\n    //   this.setState(state => ({ stickersPlaced: 0 }));\n    //   axios\n    //     .put(\"/students/\" + this.state.student._id, this.state.student)\n    //     .then(res => {\n    //       console.log(res.data);\n    //     })\n    //     .then(\n    //       console.log(\n    //         `Boards completed = ${this.state.student.boardsCompleted}`\n    //       )\n    //     );\n    // }\n  }\n\n  async addBoardToStats() {\n    const student = Object.assign({}, this.state.student);\n    const boards = student.boardsCompletedByDate;\n    const currentBoard = boards[boards.length - 1];\n    console.log(currentBoard);\n    const today = format(Date.now(), \"MM/DD/YYYY\");\n\n    if (!currentBoard) {\n      student.boardsCompletedByDate.push({\n        day: today,\n        boardsCompleted: 1\n      });\n    } else if (isSameDay(currentBoard.day, today)) {\n      console.log(\"same day\");\n      currentBoard.boardsCompleted += 1;\n    } else {\n      student.boardsCompletedByDate.push({\n        day: today,\n        boardsCompleted: 1\n      });\n    }\n\n    console.log(student.boardsCompletedByDate);\n    await this.setState({\n      student: student\n    });\n    console.log(this.state.student);\n  } // CONDITIONAL RENDERING\n\n\n  // ifBoard = this.checkBoard();\n  async restart(state) {\n    await this.setState(state => ({\n      boardActive: false,\n      boardCompleted: false,\n      stickersPlaced: 0,\n      student: {},\n      studentActive: false\n    }));\n  }\n\n  checkStudent(state, props) {\n    const studentActive = this.state.studentActive;\n    const boardActive = this.state.boardActive;\n\n    if (studentActive || boardActive) {\n      return React.createElement(AskToClear, {\n        restart: this.restart // stay={this.push.history.location(`home/board`)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      });\n    } else {\n        return React.createElement(StudentList // {...routerprops}\n        // clear={this.onClearBoard}\n        , {\n          boardActive: this.state.boardActive,\n          user: this.props.user // tag={this.props.tag}\n          ,\n          select: this.chooseStudent,\n          student: this.state.student,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        });\n      }\n  }\n\n  // ifStudent = this.checkStudent(\n  //   this.state.boardActive,\n  //   this.state.studentActive\n  // );\n  // toStickers = () => this.props.history.push(`/home/stickers`);\n  // toRewards = () => this.props.history.push(`/home/rewards`);\n  // toBoard = () => this.props.history.push(`/home/boards`);\n  // toHome = () => this.props.history.push(`/`);\n  // game = (boardActive, studentActive) => {\n  //   if (!studentActive) {\n  //     return <ChooseStudent />;\n  //   } else if (!boardActive && studentActive) {\n  //     return <AskToClear clear={this.onLeaveStudent} stay={this.onStayBoard} />;\n  //   } else {\n  //     return (\n  //       <StickerBoard\n  //         // {...routerprops}\n  //         // boardActive={this.boardActive}\n  //         boardActive={true}\n  //         boardCompleted={this.state.boardCompleted}\n  //         onPlaceSticker={this.onPlaceSticker}\n  //         pageAnimation={this.state.pageAnimation}\n  //         resetBoard={this.resetBoard}\n  //         reward={this.state.reward}\n  //         stickersPlaced={this.state.stickersPlaced}\n  //         sticker={this.state.sticker}\n  //         student={this.state.student}\n  //         studentActive={this.state.studentActive}\n  //       />\n  //     );\n  //   }\n  //   // else {\n  //   //   return <AskToClear clear={this.onClearBoard} />;\n  //   // }\n  // };\n  async chooseSticker(event) {\n    const alt = event.target.alt;\n    console.log(alt);\n    const stickersToChoose = [...this.state.stickersToChoose]; // const stickers = [...this.state.stickers];\n    // console.log(stickers);\n    // if (stickers.length === 3) {\n    //   stickers.shift();\n    // }\n\n    const sticker = stickersToChoose.filter(sticker => sticker.alt === alt)[0]; // console.log(sticker);\n    // stickers.push(sticker);\n\n    await this.setState(state => ({\n      sticker: sticker\n    }));\n    console.log(this.state.stickers);\n  }\n\n  async chooseReward(event) {\n    const alt = event.target.alt;\n    const rewardsToChoose = [...this.state.rewardsToChoose];\n    const reward = rewardsToChoose.filter(reward => reward.alt === alt)[0];\n    this.setState(state => ({\n      reward: reward\n    }));\n    console.log(this.state.reward);\n  }\n\n  render() {\n    console.log(this.state.stickers, stickerData);\n    console.log(\"In progress: \" + this.state.boardActive);\n    console.log(\"Current student: \" + this.state.student._id);\n    let match = this.props.match;\n    return React.createElement(\"div\", {\n      className: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    }, React.createElement(Navbar // onClearBoard={this.onClearBoard}\n    , {\n      onLogout: this.onLogout,\n      onToggleAnimation: this.onToggleAnimation,\n      onToggleSound: this.onToggleSound,\n      pageAnimation: this.state.pageAnimation,\n      pageSound: this.state.pageSound,\n      board: this.toBoard,\n      resetBoard: this.resetBoard,\n      home: this.toHome,\n      rewards: this.toRewards,\n      stickers: this.toStickers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433\n      },\n      __self: this\n    }, React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/home\",\n      render: () => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, this.ifStudent()) // tag for default?\n      // render={routerprops => (\n      //   <StudentList\n      //     {...routerprops}\n      //     clear={this.onClearBoard}\n      //     boardActive={this.state.boardActive}\n      //     user={this.props.user}\n      //     tag={this.props.tag}\n      //     select={this.chooseStudent}\n      //     student={this.state.student}\n      //   />\n      // )}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"\".concat(match.url, \"/board\"),\n      render: () => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, this.ifBoard()),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"\".concat(match.url, \"/stickers\"),\n      render: () => React.createElement(Stickers, {\n        choose: this.chooseSticker,\n        stickers: stickerData,\n        boardActive: this.state.boardActive,\n        studentActive: this.state.studentActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"\".concat(match.url, \"/rewards\"),\n      render: () => React.createElement(Rewards, {\n        choose: this.chooseReward,\n        rewards: rewardData,\n        boardActive: this.state.boardActive,\n        studentActive: this.state.studentActive,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["/Users/quizmox/Desktop/frontend/src/components/Home.js"],"names":["React","Component","Route","withRouter","axios","Navbar","SelectStudent","AskToClear","StudentList","StickerBoard","Stickers","Rewards","soundFile","stickerData","rewardData","isSameDay","format","confetti","PrivateRoute","Home","constructor","props","onToggleAnimation","setState","state","pageAnimation","console","log","onToggleSound","pageSound","checkBoard","boardActive","studentActive","boardCompleted","onPlaceSticker","resetBoard","reward","stickersPlaced","sticker","student","ifBoard","ifStudent","checkStudent","_id","name","teacher","boardsCompletedByDate","src","alt","stickersToChoose","rewardsToChoose","bind","chooseStudent","chooseSticker","chooseReward","startBoard","restart","id","put","headers","Authorization","auth","getAccessToken","then","res","data","history","push","catch","err","updateStickers","duration","end","Date","now","frame","particleCount","angle","spread","origin","x","requestAnimationFrame","addBoardToStats","boardsCompleted","audio","Audio","play","prevState","Object","assign","boards","currentBoard","length","today","day","user","event","target","filter","stickers","render","match","onLogout","toBoard","toHome","toRewards","toStickers","url"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport \"../App.css\";\n// import * as API from \"../helpers/API\";\nimport axios from \"axios\";\nimport Navbar from \"./Navbar\";\nimport SelectStudent from \"./SelectStudent\";\nimport AskToClear from \"./AskToClear\";\n// import SelectedInfo from \"./SelectedInfo\";\nimport StudentList from \"./StudentList\";\nimport StickerBoard from \"./StickerBoard\";\nimport Stickers from \"./Stickers\";\nimport Rewards from \"./Rewards\";\nimport soundFile from \"../tada.mp3\";\nimport { stickerData } from \"./stickerData\";\nimport { rewardData } from \"./rewardData\";\nimport isSameDay from \"date-fns/is_same_day\";\nimport { format } from \"date-fns\";\nimport confetti from \"canvas-confetti\";\n// import { withAuth } from \"@okta/okta-react\";\n// import { useAuth0 } from \"../react-auth0-wrapper\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      student: {\n        _id: \"\",\n        name: \"\",\n        teacher: \"\",\n        boardsCompletedByDate: []\n      },\n      boardActive: false,\n      boardCompleted: false,\n      studentActive: false,\n      pageAnimation: true,\n      pageSound: true,\n      sticker: {\n        src: \"https://i.ibb.co/b2wZDqL/61-Ez-ZBx-ZN2-L-SX425.jpg\",\n        alt: \"star\"\n      },\n      reward: {\n        src: \"https://i.ibb.co/rvtygSG/images.png\",\n        alt: \"great job\"\n      },\n      stickersToChoose: stickerData,\n      rewardsToChoose: rewardData,\n      stickersPlaced: 0\n    };\n    this.onPlaceSticker = this.onPlaceSticker.bind(this);\n    this.chooseStudent = this.chooseStudent.bind(this);\n    // this.onClearBoard = this.onClearBoard.bind(this);\n    // this.onLeaveStudent = this.onLeaveStudent.bind(this);\n    // this.onStayBoard = this.onStayBoard.bind(this);\n    this.chooseSticker = this.chooseSticker.bind(this);\n    this.chooseReward = this.chooseReward.bind(this);\n    this.resetBoard = this.resetBoard.bind(this);\n    this.startBoard = this.startBoard.bind(this);\n    this.checkBoard = this.checkBoard.bind(this);\n    this.checkStudent = this.checkStudent.bind(this);\n    this.restart = this.restart.bind(this);\n  }\n\n  onToggleAnimation = () => {\n    this.setState(state => ({\n      pageAnimation: !this.state.pageAnimation\n    }));\n    console.log(this.state.pageAnimation);\n  };\n\n  onToggleSound = () => {\n    this.setState(state => ({\n      pageSound: !this.state.pageSound\n    }));\n    console.log(this.state.pageSound);\n  };\n\n  async chooseStudent(id) {\n    await axios\n      .put(\"/students/\" + id, {\n        headers: {\n          Authorization: \"Bearer \" + (await this.props.auth.getAccessToken())\n        }\n      })\n      .then(res => {\n        console.log(res.data);\n        this.setState(state => ({\n          boardActive: true,\n          studentActive: true,\n          stickersPlaced: 0,\n          student: res.data\n        }));\n        console.log(this.state);\n      })\n      .then(console.log(this.state.student))\n      .then(this.props.history.push(\"/home/board\"))\n      .catch(err => console.log(err));\n  }\n\n  // onClearBoard() {\n  //   this.setState(prevState => ({\n  //     // student: {\n  //   _id: \"\",\n  //   name: \"\",\n  //   teacher: \"\",\n  //   boardsCompletedByDate: []\n  // },\n  // boardActive: !prevState.boardActive\n  // boardActive: false\n  // studentActive: false\n  // }));\n  // this.props.history.push(\"/home/board\");\n  // this.props.history.push(\"/home\");\n  // }\n\n  // onLeaveStudent() {\n  //   this.setState(state => ({ student: {}, studentActive: false }));\n  //   this.props.history.push(\"/home\");\n  // }\n\n  // onStayBoard() {\n  //   this.setState(state => ({ boardActive: true }));\n  //   this.props.history.push(\"/home/board\");\n  // }\n\n  async resetBoard() {\n    await this.setState(state => ({\n      boardCompleted: false\n    }));\n  }\n\n  async startBoard() {\n    await this.setState(state => ({ boardActive: true }));\n  }\n\n  async updateStickers() {\n    var duration = 1.5 * 1000;\n    var end = Date.now() + duration;\n\n    if (this.state.stickersPlaced === 3) {\n      if (this.state.pageAnimation) {\n        (function frame() {\n          // launch a few confetti from the left edge\n          confetti({\n            particleCount: 7,\n            angle: 60,\n            spread: 55,\n            origin: { x: 0 }\n          });\n          // and launch a few from the right edge\n          confetti({\n            particleCount: 7,\n            angle: 120,\n            spread: 55,\n            origin: { x: 1 }\n          });\n          // keep going until we are out of time\n          if (Date.now() < end) {\n            requestAnimationFrame(frame);\n          }\n        })();\n      }\n      this.addBoardToStats();\n      console.log(this.state.student.boardsCompletedByDate);\n      // UI.celebrate();\n      await this.setState(state => ({\n        boardCompleted: true,\n        stickersPlaced: 0\n      }));\n      await axios\n        .put(\n          \"/students/\" + this.state.student._id,\n          {\n            headers: {\n              Authorization:\n                \"Bearer \" + (await this.props.auth.getAccessToken())\n            }\n          },\n          this.state.student\n        )\n        .then(res => {\n          console.log(res.data);\n        })\n        .then(\n          console.log(\n            `Boards completed = ${this.state.student.boardsCompleted}`\n          )\n        );\n    }\n  }\n\n  async onPlaceSticker() {\n    // UI.changeBoard();\n    if (this.state.pageSound) {\n      const audio = new Audio(soundFile);\n      await audio.play();\n    }\n    console.log(this.state.stickersPlaced);\n    await this.setState(prevState => ({\n      stickersPlaced: prevState.stickersPlaced + 1\n    }));\n    console.log(this.state.stickersPlaced);\n    this.updateStickers();\n    // if (this.state.stickersPlaced === 3) {\n    //   this.addBoardToStats();\n    //   console.log(this.state.student.boardsCompletedByDate);\n    //   // UI.celebrate();\n    //   this.setState(state => ({ stickersPlaced: 0 }));\n    //   axios\n    //     .put(\"/students/\" + this.state.student._id, this.state.student)\n    //     .then(res => {\n    //       console.log(res.data);\n    //     })\n    //     .then(\n    //       console.log(\n    //         `Boards completed = ${this.state.student.boardsCompleted}`\n    //       )\n    //     );\n    // }\n  }\n\n  async addBoardToStats() {\n    const student = Object.assign({}, this.state.student);\n    const boards = student.boardsCompletedByDate;\n    const currentBoard = boards[boards.length - 1];\n    console.log(currentBoard);\n    const today = format(Date.now(), \"MM/DD/YYYY\");\n    if (!currentBoard) {\n      student.boardsCompletedByDate.push({ day: today, boardsCompleted: 1 });\n    } else if (isSameDay(currentBoard.day, today)) {\n      console.log(\"same day\");\n      currentBoard.boardsCompleted += 1;\n    } else {\n      student.boardsCompletedByDate.push({ day: today, boardsCompleted: 1 });\n    }\n    console.log(student.boardsCompletedByDate);\n    await this.setState({ student: student });\n    console.log(this.state.student);\n  }\n\n  // CONDITIONAL RENDERING\n  checkBoard = (boardActive, studentActive) => {\n    // const studentActive = this.state.studentActive;\n    // const boardActive = this.state.boardActive;\n    if (!studentActive) {\n      return <SelectStudent />;\n    } /*if (!boardActive && studentActive)*/ else {\n      // this.setState(state => ({ boardActive: true }));\n      // this.startBoard();\n      return (\n        <StickerBoard\n          // {...routerprops}\n          // boardActive={this.boardActive}\n          boardActive={true}\n          boardCompleted={this.state.boardCompleted}\n          onPlaceSticker={this.onPlaceSticker}\n          pageAnimation={this.state.pageAnimation}\n          resetBoard={this.resetBoard}\n          reward={this.state.reward}\n          stickersPlaced={this.state.stickersPlaced}\n          sticker={this.state.sticker}\n          student={this.state.student}\n          studentActive={this.state.studentActive}\n        />\n      );\n    }\n  };\n\n  ifBoard = state => {\n    // if (this.state) {\n    console.log(this.state.boardActive, this.state.studentActive);\n    return this.checkBoard(this.state.boardActive, this.state.studentActive);\n    // } else {\n    //   return \"\";\n    // }\n  };\n\n  // ifBoard = this.checkBoard();\n\n  async restart(state) {\n    await this.setState(state => ({\n      boardActive: false,\n      boardCompleted: false,\n      stickersPlaced: 0,\n      student: {},\n      studentActive: false\n    }));\n  }\n\n  checkStudent(state, props) {\n    const studentActive = this.state.studentActive;\n    const boardActive = this.state.boardActive;\n    if (studentActive || boardActive) {\n      return (\n        <AskToClear\n          restart={this.restart}\n          // stay={this.push.history.location(`home/board`)}\n        />\n      );\n    } else {\n      return (\n        <StudentList\n          // {...routerprops}\n          // clear={this.onClearBoard}\n          boardActive={this.state.boardActive}\n          user={this.props.user}\n          // tag={this.props.tag}\n          select={this.chooseStudent}\n          student={this.state.student}\n        />\n      );\n    }\n  }\n\n  ifStudent = (state, props) => {\n    // if (this.state) {\n    console.log(this.state.boardActive, this.state.studentActive);\n    return this.checkStudent(this.state, this.props);\n    // } else {\n    //   return \"\";\n    // }\n  };\n\n  // ifStudent = this.checkStudent(\n  //   this.state.boardActive,\n  //   this.state.studentActive\n  // );\n\n  // toStickers = () => this.props.history.push(`/home/stickers`);\n\n  // toRewards = () => this.props.history.push(`/home/rewards`);\n\n  // toBoard = () => this.props.history.push(`/home/boards`);\n\n  // toHome = () => this.props.history.push(`/`);\n\n  // game = (boardActive, studentActive) => {\n  //   if (!studentActive) {\n  //     return <ChooseStudent />;\n  //   } else if (!boardActive && studentActive) {\n  //     return <AskToClear clear={this.onLeaveStudent} stay={this.onStayBoard} />;\n  //   } else {\n  //     return (\n  //       <StickerBoard\n  //         // {...routerprops}\n  //         // boardActive={this.boardActive}\n  //         boardActive={true}\n  //         boardCompleted={this.state.boardCompleted}\n  //         onPlaceSticker={this.onPlaceSticker}\n  //         pageAnimation={this.state.pageAnimation}\n  //         resetBoard={this.resetBoard}\n  //         reward={this.state.reward}\n  //         stickersPlaced={this.state.stickersPlaced}\n  //         sticker={this.state.sticker}\n  //         student={this.state.student}\n  //         studentActive={this.state.studentActive}\n  //       />\n  //     );\n  //   }\n  //   // else {\n  //   //   return <AskToClear clear={this.onClearBoard} />;\n  //   // }\n  // };\n\n  async chooseSticker(event) {\n    const alt = event.target.alt;\n    console.log(alt);\n    const stickersToChoose = [...this.state.stickersToChoose];\n    // const stickers = [...this.state.stickers];\n    // console.log(stickers);\n    // if (stickers.length === 3) {\n    //   stickers.shift();\n    // }\n    const sticker = stickersToChoose.filter(sticker => sticker.alt === alt)[0];\n    // console.log(sticker);\n    // stickers.push(sticker);\n    await this.setState(state => ({ sticker: sticker }));\n    console.log(this.state.stickers);\n  }\n\n  async chooseReward(event) {\n    const alt = event.target.alt;\n    const rewardsToChoose = [...this.state.rewardsToChoose];\n    const reward = rewardsToChoose.filter(reward => reward.alt === alt)[0];\n    this.setState(state => ({ reward: reward }));\n    console.log(this.state.reward);\n  }\n\n  render() {\n    console.log(this.state.stickers, stickerData);\n    console.log(\"In progress: \" + this.state.boardActive);\n    console.log(\"Current student: \" + this.state.student._id);\n    let match = this.props.match;\n    return (\n      <div className=\"Home\">\n        {/* <header className=\"App-header\"> */}\n        {/* <img\n            src={\n              \"https://i.ibb.co/6PZqtHk/Screen-Shot-2019-07-19-at-11-22-08-AM.png\"\n            }\n            className=\"App-logo\"\n            alt=\"chalkboard\"\n          /> */}\n        {/* <h1 className=\"App-title\">\n            <img\n              src={\n                \"https://i.ibb.co/0f83Kyv/Screen-Shot-2019-07-25-at-5-56-37-PM.png\"\n              }\n              className=\"App-title\"\n              alt=\"Sticker Star\"\n            />\n          </h1> */}\n        {/* <SelectedInfo\n            student={this.state.student}\n            teacher={this.props.user}\n          /> */}\n        {/* </header> */}\n        <Navbar\n          // onClearBoard={this.onClearBoard}\n          onLogout={this.onLogout}\n          onToggleAnimation={this.onToggleAnimation}\n          onToggleSound={this.onToggleSound}\n          pageAnimation={this.state.pageAnimation}\n          pageSound={this.state.pageSound}\n          board={this.toBoard}\n          resetBoard={this.resetBoard}\n          home={this.toHome}\n          rewards={this.toRewards}\n          stickers={this.toStickers}\n        />\n        <div className=\"main\">\n          <PrivateRoute\n            exact\n            path=\"/home\"\n            render={() => <div>{this.ifStudent()}</div>}\n            // tag for default?\n            // render={routerprops => (\n            //   <StudentList\n            //     {...routerprops}\n            //     clear={this.onClearBoard}\n            //     boardActive={this.state.boardActive}\n            //     user={this.props.user}\n            //     tag={this.props.tag}\n            //     select={this.chooseStudent}\n            //     student={this.state.student}\n            //   />\n            // )}\n          />\n          <Route\n            exact\n            path={`${match.url}/board`}\n            render={() => <div>{this.ifBoard()}</div>}\n          />\n          <Route\n            exact\n            path={`${match.url}/stickers`}\n            render={() => (\n              <Stickers\n                choose={this.chooseSticker}\n                stickers={stickerData}\n                boardActive={this.state.boardActive}\n                studentActive={this.state.studentActive}\n              />\n            )}\n          />\n          <Route\n            exact\n            path={`${match.url}/rewards`}\n            render={() => (\n              <Rewards\n                choose={this.chooseReward}\n                rewards={rewardData}\n                boardActive={this.state.boardActive}\n                studentActive={this.state.studentActive}\n              />\n            )}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Home);\n"]},"metadata":{},"sourceType":"module"}